---
slug: /updating
description: Paper 每天都有新功能和修复更新，本指南将解释更新过程。
---

# 更新 Paper

更新 Paper 是运行每个服务器的重要组成部分。由于每天都有新功能和修复发布，我们建议至少每周更新一次，以确保您的服务器能修复最新的错误。安装更新非常简单，但了解如何正确操作很重要。

:::caution[不要在运行中的服务器替换任何 JAR 文件]

除非您完全清楚自己在做什么以及为什么这样做，否则在运行中的服务器上替换任何 JAR 文件都不是一个好主意，无论是插件还是 Paper 本身。

:::

## 步骤 1. 备份

:::tip

如果您使用的是共享主机，您的主机可能提供内置的备份方式。在继续之前请查阅他们的文档。

:::

这是最重要的步骤，但却也是最常被跳过的步骤。虽然更新 Paper 本身不太可能导致需要从备份恢复的问题，但插件故障或其他意外可能会发生！更新是进行备份的好时机。对于每个服务器来说，无论大小，拥有可用的备份都是至关重要的。主要需要备份的内容包括：

- 世界文件夹
- 服务器配置文件
- 插件配置文件和插件 JAR 文件

您应该尽量保留多个时间点的备份，并将它们存放在安全的地方。一种常见的方法是保持滚动备份，这样您始终可以拥有一定时间段内的特定数量的备份。

## 步骤 2. 更新插件

就像更新 Paper 很重要一样，保持插件更新也同样重要。您永远不知道插件作者可能在开发什么，无论是错误修复还是新功能。

Paper 服务器有一个鲜为人知的功能：`update` 文件夹。以下是使用方法：

1. 在 `plugins` 文件夹内创建一个名为 `update` 的文件夹。
2. 逐个下载您想要更新的插件，并将它们放入 `update` 文件夹。
3. 重启服务器，不要删除或修改 `update` 文件夹外的任何插件。

通过这种方式，您可以在不关闭服务器的情况下同时更新所有插件，也不需要在服务器运行时替换插件 JAR 文件。在更新 Paper 本身之前，您不需要重启服务器。这个功能允许您同时更新 Paper 和插件，而无需额外的停机时间。

## 步骤 3. 更新 Paper

:::tip

如果您使用的是共享主机，您的主机可能提供内置的更新方式！在继续之前请查阅他们的文档。

:::

更新 Paper 本身非常简单。

1. 从[我们的下载页面](https://papermc.io/downloads)下载新的 JAR 文件。
2. 停止服务器。不建议在服务器运行时替换 Paper JAR 文件，这可能会导致问题。
3. 将下载的文件重命名为与[启动命令](../getting-started/getting-started.mdx#running-the-server)中指定的名称相匹配。
4. 用新重命名的文件替换旧的 Paper JAR 文件。
5. 启动服务器。观察启动日志以确保一切正常。如果有任何插件冲突或问题，您会在这里看到。

为了最小化更新造成的停机时间，一些服务器所有者会选择上传一个新的服务器 JAR 文件，而不是替换现有的文件，并设置他们的启动脚本在下次重启时使用新文件。这两种都是有效的更新策略。

:::caution[自动更新]

虽然自动安装更新可能很方便（而且 Paper 的[下载 API](/misc/downloads-api)使这变得容易），但由于可能存在您不知道的插件冲突或其他问题，Paper 不推荐这样做。在更新期间请务必在场，并在之后仔细监控服务器的日志。

如果您选择自动安装更新，请确保您有一个正常运行的备份策略！

:::
