---
title: 下载 API
description: Paper 提供了一个下载 API，您可以使用它来访问构建
slug: misc/downloads-api
---

PaperMC 提供了一个下载 API，以便于自动化下载访问。
完整的文档可以在 [下载 API 文档](https://api.papermc.io/docs) 中找到。

:::danger

我们强烈**不推荐**在生产环境中使用不稳定的构建版本或自动更新器。

:::

:::note

以下示例需要安装 `jq`。您可以在 Debian/Ubuntu 上通过运行 `sudo apt-get install jq` 来安装它。

:::

## 获取最新版本

```shell
#!/usr/bin/env sh

PROJECT="paper"

LATEST_VERSION=$(curl -s https://api.papermc.io/v2/projects/${PROJECT} | \
    jq -r '.versions[-1]')

echo "Latest version is $LATEST_VERSION"
```

这将获取给定项目的最新可用 Minecraft 版本。

## 获取最新稳定版构建编号

```shell replace
#!/usr/bin/env sh

PROJECT="paper"
MINECRAFT_VERSION="\{LATEST_PAPER_RELEASE}"

LATEST_BUILD=$(curl -s https://api.papermc.io/v2/projects/${PROJECT}/versions/${MINECRAFT_VERSION}/builds | \
  jq '.builds | map(select(.channel == "default") | .build) | .[-1]')

if [ "$LATEST_BUILD" != "null" ]; then
  echo "最新稳定构建是 $LATEST_BUILD"
else
  echo "未找到版本 $MINECRAFT_VERSION 的稳定构建 :("
fi
```

This will get the latest stable build for the given project and Minecraft version, if it's available.

## Downloading the latest stable build

```shell replace
#!/usr/bin/env sh

PROJECT="paper"
MINECRAFT_VERSION="\{LATEST_PAPER_RELEASE}"

LATEST_BUILD=$(curl -s https://api.papermc.io/v2/projects/${PROJECT}/versions/${MINECRAFT_VERSION}/builds | \
  jq -r '.builds | map(select(.channel == "default") | .build) | .[-1]')

if [ "$LATEST_BUILD" != "null" ]; then
  JAR_NAME=${PROJECT}-${MINECRAFT_VERSION}-${LATEST_BUILD}.jar
  PAPERMC_URL="https://api.papermc.io/v2/projects/${PROJECT}/versions/${MINECRAFT_VERSION}/builds/${LATEST_BUILD}/downloads/${JAR_NAME}"

  # Download the latest Paper version
  curl -o server.jar $PAPERMC_URL
  echo "Download completed"
else
  echo "No stable build for version $MINECRAFT_VERSION found :("
fi
```

This is the most common use case for the API. It will download the latest stable build for the given project and
Minecraft version. You should always serve & use the stable builds. Experimental builds are prone to error and
do not receive support.
